!function(n){var o,r,e,t,a;a=function(){return n(".work-showcase").length?n(".work-showcase").each(function(o,r){var e;return e=n(r),window.scrollWatcher||(window.scrollWatcher=new ScrollWatcher),window.scrollWatcher.addItem(e.parent())}):void 0},o=function(){return n(".layout-main-wrapper.open").on("click",function(o){return o.stopPropagation(),o.preventDefault(),n(".layout-main-wrapper").removeClass("open"),n(".menu_bar, .sideBarToggle").removeClass("close")})},e=function(){return n(".layout-main-wrapper").bind("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(o){return n(window).trigger("nav-transition-done")}),n(window).on("nav-transition-done",function(){return n(".layout-main-wrapper").hasClass("open")?o():n(".layout-main-wrapper").off("click")}),n(".site_nav-list:not(.sub-social) a ").on("click",function(o){var r;return r=this.href,n(".layout-main-wrapper").toggleClass("open"),n("button#sideBarToggle").toggleClass("close"),n(window).on("nav-transition-done",function(){n(window).off("nav-transition-done"),n(".layout-main-wrapper").off()})})},r=function(){var o;return o=n("#new_message"),o.on("ajax:success",function(r,e,t,a){var i,s;return o.find(".form-errors").remove(),i=n.parseJSON(a.responseText),s=i.name,o[0].reset(),o.prepend("<h4>Thanks for contacting us, "+s+".</h4>")}).bind("ajax:error",function(r,e,t,a){var i,s,u,l,c,d;for(s=n.parseJSON(e.responseText),i=o.find(".form-errors"),o.find(".form-errors").length?i.empty():(i=n("<ul class='form-errors'></ul>"),o.prepend(i)),d=[],u=0,l=s.length;l>u;u++)a=s[u],c="<li>"+a+"</li>",d.push(i.append(c));return d})},t=function(){return n(".videoBackground").length?n(".videoBackground video")[0].play():void 0},n(document).on("ready",function(){return Modernizr.touch&&n("body").addClass("touch"),t(),n("pre code").each(function(n,o){return hljs.highlightBlock(o)}),n(".sideBarToggle").on("click",function(){return n(".layout-main-wrapper").toggleClass("open"),n(".menu_bar, .sideBarToggle").toggleClass("close")}),r(),n(window).off("nav-transition-done"),Modernizr.csstransitions?e():void 0})}(jQuery);
//# sourceMappingURL=main.js.map